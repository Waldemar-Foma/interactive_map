class QuestData {
    constructor() {
        this.locations = [
            {
                id: 1,
                name: "Кузнечное дело",
                position: { x: 35, y: 60 }, // Координаты на основе вашего изображения
                description: "Откройте секреты древней металлообработки. Новгородские кузнецы славились своими мечами, доспехами и инструментами, которые ценились по всей Руси и за ее пределами.",
                historicalContext: "Кузнечное ремесло было одним из самых развитых в Древнем Новгороде. Археологические находки свидетельствуют о высоком уровне металлообработки уже в X-XI веках.",
                facts: [
                    "Новгородские кузнецы производили до 150 видов железных изделий",
                    "Техника сварки и закалки была известна с IX века",
                    "Качество новгородских клинков ценилось по всей Руси",
                    "Кузнецы занимали особое положение в городской иерархии"
                ],
                task: {
                    type: "puzzle",
                    question: "Какой металл был основным для ковки оружия и инструментов в Древнем Новгороде?",
                    options: [
                        "Бронза - сплав меди и отина",
                        "Железо - добывалось из болотных руд", 
                        "Медь - мягкий металл для украшений",
                        "Серебро - драгоценный металл для монет"
                    ],
                    correctAnswer: 1,
                    points: 15,
                    hint: "Этот металл добывали из болотных руд и обрабатывали в сыродутных горнах"
                },
                workshop: {
                    title: "Кузнечная мастерская",
                    instruction: "Создайте простой нож, используя базовые приемы ковки. Выберите форму лезвия и рукояти, следуя традициям новгородских оружейников.",
                    craftType: "blacksmithing",
                    points: 25,
                    result: "Новгородский нож",
                    timeRequired: "10-15 минут",
                    materials: ["Стальная заготовка", "Деревянная рукоять", "Медные заклепки"]
                }
            },
            {
                id: 2,
                name: "Гончарное искусство",
                position: { x: 60, y: 45 }, // Координаты на основе вашего изображения
                description: "Погрузитесь в мир глины и круга. Новгородская керамика отличалась уникальными формами, орнаментами и технологиями обжига.",
                historicalContext: "Гончарное ремесло в Новгороде достигло расцвета в XII-XIII веках. Об этом свидетельствуют многочисленные находки керамики при археологических раскопках.",
                facts: [
                    "Гончарный круг использовался в Новгороде с X века",
                    "Особой популярностью пользовались амфоры для хранения продуктов",
                    "Орнаменты наносились специальными штампами и резцами",
                    "Техника чернолощеной керамики была уникальной для Новгорода"
                ],
                task: {
                    type: "puzzle", 
                    question: "Какой инструмент использовали новгородские гончары для нанесения сложных орнаментов на глиняные изделия?",
                    options: [
                        "Кисть - для росписи жидкой глиной",
                        "Штамп - деревянная палочка с резным узором",
                        "Резак - металлическое острие для гравировки", 
                        "Пальцы - для создания рельефных узоров"
                    ],
                    correctAnswer: 1,
                    points: 12,
                    hint: "Этот инструмент позволял быстро наносить повторяющиеся узоры"
                },
                workshop: {
                    title: "Гончарная мастерская",
                    instruction: "Слепите горшок на гончарном круге. Постарайтесь придать ему традиционную новгородскую форму с характерным орнаментом.",
                    craftType: "pottery",
                    points: 20,
                    result: "Новгородский горшок",
                    timeRequired: "15-20 минут",
                    materials: ["Гончарная глина", "Деревянные штампы", "Глазурь"]
                }
            },
            {
                id: 3,
                name: "Ювелирное дело",
                position: { x: 45, y: 30 }, // Координаты на основе вашего изображения
                description: "Искусство тонкой работы с драгоценными металлами и камнями. Новгородские ювелиры владели уникальными техниками зерни и скани.",
                historicalContext: "Ювелирное искусство Новгорода испытало влияние как византийских, так и скандинавских традиций, создав уникальный местный стиль.",
                facts: [
                    "Зернь - техника напаивания тысяч мельчайших золотых шариков",
                    "Скань - ажурный узор из тонкой золотой или серебряной проволоки",
                    "Эмалирование пришло в Новгород из Византии",
                    "Новгородские украшения находили в кладах по всей Европе"
                ],
                task: {
                    type: "puzzle",
                    question: "Как называется ювелирная техника создания ажурных узоров из тонкой металлической проволоки?",
                    options: [
                        "Литье - заливка металла в формы",
                        "Чеканка - тиснение по металлу", 
                        "Скань - плетение из проволоки",
                        "Гравировка - резьба по металлу"
                    ],
                    correctAnswer: 2,
                    points: 18,
                    hint: "От древнерусского 'скать' - сучить, свивать"
                },
                workshop: {
                    title: "Ювелирная мастерская", 
                    instruction: "Создайте подвеску в технике скани. Составьте узор из медной проволоки, следуя традиционным новгородским мотивам.",
                    craftType: "jewelry",
                    points: 30,
                    result: "Новгородская подвеска",
                    timeRequired: "20-25 минут",
                    materials: ["Медная проволока", "Основа для подвески", "Инструменты для плетения"]
                }
            },
            {
                id: 4,
                name: "Кожевенное ремесло",
                position: { x: 75, y: 65 }, // Координаты на основе вашего изображения
                description: "Обработка кожи - одно из древнейших ремесел. Новгородские кожевники производили качественную обувь, сумки, ремни и элементы доспехов.",
                historicalContext: "Новгород был крупным центром кожевенного производства. Кожаные изделия из Новгорода экспортировались в другие русские земли и за границу.",
                facts: [
                    "Кожа обрабатывалась натуральными дубильными веществами",
                    "Производилась сафьяновая кожа высшего качества",
                    "Новгородская обувь экспортировалась в другие земли", 
                    "Кожаные ножны и портупеи ценились воинами"
                ],
                task: {
                    type: "puzzle",
                    question: "Какое растение чаще всего использовали новгородские кожевники для дубления кожи?",
                    options: [
                        "Ива - кора содержит дубильные вещества",
                        "Дуб - традиционное дубильное растение",
                        "Береза - молодая кора для мягкой кожи",
                        "Ель - хвойные для специальной обработки"
                    ],
                    correctAnswer: 0,
                    points: 10,
                    hint: "Это дерево часто росло по берегам рек и использовалось в различных ремеслах"
                },
                workshop: {
                    title: "Кожевенная мастерская",
                    instruction: "Изготовьте простой кошель из кожи. Украсьте его традиционным новгородским орнаментом с помощью тиснения.",
                    craftType: "leatherwork", 
                    points: 22,
                    result: "Кожаный кошель",
                    timeRequired: "15-18 минут",
                    materials: ["Дубленая кожа", "Инструменты для тиснения", "Нитки и иглы"]
                }
            },
            {
                id: 5,
                name: "Деревообработка",
                position: { x: 25, y: 40 }, // Координаты на основе вашего изображения
                description: "Искусство работы с деревом. Новгород стоял среди богатых лесов, и дерево было основным строительным и бытовым материалом.",
                historicalContext: "Деревообработка в Новгороде достигла невероятных высот. Об этом свидетельствуют сохранившиеся деревянные мостовые, дома и предметы быта.",
                facts: [
                    "Новгородские плотники строили сложные сооружения без гвоздей",
                    "Резьба по дереву достигла высокого художественного уровня",
                    "Деревянная посуда и утварь были в каждом доме",
                    "Техника бондарного дела позволяла создавать герметичные сосуды"
                ],
                task: {
                    type: "puzzle",
                    question: "Какой строительный прием позволял новгородским плотникам создавать прочные сооружения без использования металлических гвоздей?",
                    options: [
                        "Шип-паз - точная подгонка деревянных элементов",
                        "Клей - природные клеящие составы", 
                        "Веревки - скрепление льняными канатами",
                        "Смола - природный герметик и фиксатор"
                    ],
                    correctAnswer: 0,
                    points: 14,
                    hint: "Этот метод до сих пор используется в традиционном деревянном зодчестве"
                },
                workshop: {
                    title: "Столярная мастерская",
                    instruction: "Вырежьте деревянную ложку, используя традиционные инструменты новгородских резчиков. Придайте ей характерную форму.",
                    craftType: "woodworking",
                    points: 18,
                    result: "Деревянная ложка",
                    timeRequired: "12-15 минут", 
                    materials: ["Липовая заготовка", "Резцы и ножи", "Шлифовальные материалы"]
                }
            }
        ];

        this.rewards = {
            certificate: "Сертификат Мастера Великого Новгорода",
            minScore: 50,
            maxScore: 150,
            levels: [
                { score: 50, title: "Ученик ремесленника", description: "Начальное освоение ремесел" },
                { score: 80, title: "Подмастерье", description: "Хорошие навыки в основных ремеслах" },
                { score: 110, title: "Мастер", description: "Отличное владение древними техниками" },
                { score: 140, title: "Великий Мастер", description: "Полное освоение новгородских ремесел" }
            ]
        };

        this.achievements = [
            { id: "first_craft", name: "Первое изделие", description: "Создайте свое первое ремесленное изделие", icon: "⭐" },
            { id: "quick_learner", name: "Быстрый ученик", description: "Пройдите 3 остановки за один час", icon: "⚡" },
            { id: "craft_master", name: "Мастер на все руки", description: "Создайте изделия во всех мастерских", icon: "👑" },
            { id: "perfect_score", name: "Безупречный результат", description: "Набери максимальное количество баллов", icon: "💎" }
        ];
    }

    getLocationById(id) {
        return this.locations.find(location => location.id === id);
    }

    getAchievementById(id) {
        return this.achievements.find(achievement => achievement.id === id);
    }

    calculateLevel(score) {
        return this.rewards.levels.reduce((currentLevel, level) => {
            return score >= level.score ? level : currentLevel;
        }, this.rewards.levels[0]);
    }
}

const questData = new QuestData();